{% extends model('component') %}

{% define config = {
    name: 'color-selector',
    tag: 'color-selector',
} %}

{% define data = {
    item: required,
    selectionTag: 'button',
    firstItem: null,
} %}

{% define attributes = {
    'active-item-class-name': config.name ~ '__item--active',
} %}

{% block component %}
    {% if data.item is not empty %}
        {{ parent() }}
    {% endif %}
{% endblock %}

{% block body %}
    {% set activeClassName = data.firstItem ? attributes['active-item-class-name'] %}
    {% set backgroundColor = data.item.colorCode ? 'background-color: ' ~ data.item.colorCode ~ ';' %}

    <{{ data.selectionTag }}
        class="{{ config.name }}__item {{ activeClassName }} {{ config.jsName }}__item"
        style="{{ backgroundColor }}"
        {% block listDataAttributes %}{% endblock %}>
    </{{ data.selectionTag }}>
{% endblock %}
