{% extends template('widget') %}

{% define data = {
    volumeProductPrices: _widget.volumeProductPrices,
} %}

{% block body %}
    {% if data.volumeProductPrices.volumePrices is defined and data.volumeProductPrices.volumePrices is not empty %}

        {% include molecule('volume-price-table', 'VolumePriceProductWidget') with {
            data: {
                volumePrices: data.volumeProductPrices.volumePrices
            }
        } only %}

        {% include molecule('volume-price', 'VolumePriceProductWidget') with {
            attributes: {
                'data-json': "[{\"price\":\"€2.00\",\"count\":1},{\"price\":\"€1.65\",\"count\":5},{\"price\":\"€1.15\",\"count\":7},{\"price\":\"€0.65\",\"count\":9}]"
            },
            data: {
                amount: '€2.00',
                originalAmount: 100
            }
        } only %}
    {% endif %}
{% endblock %}
