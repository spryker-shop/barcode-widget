{% extends model('base') %}

{#
 #
 #
 # Component API
 #}

{%- define config = {
    name: required,
    tag: 'div',
    selector: ''
} -%}
{%- define data = {} -%}
{%- define embed = {} -%}

{%- set class = class | default('') -%}
{%- define modifiers = [] -%}
{%- define attributes = {} -%}

{% block model %}
    {%- set config = config | merge({
        selector: config.selector is empty ? ('js-' ~ config.name) : config.selector
    }) -%}

    {{parent()}}
{% endblock -%}

{%- block render -%}
    <{{-config.tag}} class="
        {%- block renderCustomComponentClass -%}
            {%- if config.name == config.tag and '-' in config.tag -%}custom-element {% endif -%}
        {%- endblock -%}
        {%- block class -%}
            {%- block renderClass -%}
                {{config.name | trim-}} 
                {%- for modifier in modifiers -%}{%- if modifier | trim is not empty %} {{config.name}}--{{modifier | trim}}{% endif -%}{% endfor -%}
                {%- if class %} {{class-}}{% endif -%}
            {%- endblock -%}
        {%- endblock -%}"

        {% block attributes -%}
            {%- block renderAttributes -%}
                {%- for attrname, attrvalue in attributes -%}
                    {%- if attrvalue is sameas(true) -%}
                        {{-' ' ~ attrname-}}
                    {%- elseif attrvalue is not sameas(false) -%}
                        {{-' ' ~ attrname-}}='{{-attrvalue-}}'
                    {%- endif -%}
                {%- endfor -%}
            {%- endblock -%}
        {%- endblock -%}>
        {{parent()}}
    </{{-config.tag-}}>
{%- endblock -%}
