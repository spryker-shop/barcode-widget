{% extends model('component') %}

{% set config = {
    name: 'breadcrumb',
    tag: 'ul'
} | merge(config | default({})) %}

{% set data = {
    steps: data.steps | default([]),
    startWithHome: data.startWithHome | default(true)
} | merge(data | default({})) %}

{% block body %}
    {% if data.startWithHome %}
        {% include molecule('breadcrumb-step') with {
            data: {
                url: '/',
                label: 'global.home' | trans
            }
        } only %}
    {% endif %}
    {% block breadcrumbs %}
        {% for step in data.steps %}
            {% include molecule('breadcrumb-step') with {
                data: {
                    url: loop.last ? null : (step.url | default(null)),
                    label: step.label | default(null),
                    itemProp: step.itemProp | default(null),
                    withChevron: step.withChevron | default(true)
                }
            } only %}
        {% endfor %}
    {% endblock %}
{% endblock %}
