{% extends model('component') %}

{% define config = {
    name: 'class-toggler',
    tag: 'class-toggler'
} %}

{% define data = {
    label: ''
} %}

{% set attributes = {
    checked: attributes.checked | default(false),
    target: attributes.target | default(''),
    'hide-when-checked': attributes['hide-when-checked'] | default(false)
} | merge(attributes | default({})) %}

{% block body %}
    {% embed atom('checkbox') with {
        modifiers: ['expand'],
        data: {
            label: data.label
        },
        attributes: {
            checked: attributes.checked
        },
        embed: {
            selector: config.selector
        }
    } only %}
        {% block inputClass %}{{parent()}}{{embed.selector}}__checkbox{% endblock %}
    {% endembed %}
{% endblock %}
