{% extends model('component') %}

{% define config = {
    name: 'search-form'
} %}

{% define data = {
    searchUrl: path('search'),
    suggestionUrl: path('search/suggestion'),
    searchValue: app.request.get('q'),
    searchInputClass: searchInputClass | default('')
} %}

{% block body %}
    <form action="{{data.searchUrl}}">
        <div class="grid">
            <div class="col col--sm-10">
                <input name="q" type="text" class="input suggest-search__input input--expand {{ data.searchInputClass }}" placeholder="{{ 'global.search' | trans }}" value="{{data.searchValue}}" autocomplete="off">
            </div>
            <div class="col col--sm-2">
                <button type="submit" class="{{config.name}}__submit button button--expand">
                    {% include atom('icon') with {
                        data: {
                            name: 'search'
                        }
                    } only %}
                </button>
            </div>
        </div>

        {% include molecule('suggest-search') with {
            data: {
                suggestionUrl: data.suggestionUrl,
                inputSelector: '.' ~ data.searchInputClass
            }
        } only %}
    </form>
{% endblock %}
