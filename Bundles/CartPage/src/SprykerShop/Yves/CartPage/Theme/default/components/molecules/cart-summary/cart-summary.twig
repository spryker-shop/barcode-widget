{% extends model('component') %}

{% define config = {
    name: 'cart-summary',
    tag: 'div'
} %}

{% define data = {
    cart: required,
} %}

{% block body %}

    <div class="callout">
        <h5 class="subheader float-right">{{ app['cart.quantity'] }} {{ 'item' | trans }}</h5>
        <h5>{{ 'cart.your-order' | trans }}</h5>

        <ul class="no-bullet">
            <li>{{ 'cart.price.subtotal' | trans }} <span class="float-right">{{ data.cart.totals.subtotal | money }}</span></li>

            <li><hr/></li>

            {{ widget('DiscountSummaryWidgetPlugin', data.cart) }}

            {% if data.cart.shipment is not null and data.cart.shipment.method is not null %}

                <li><strong>{{ 'cart.shipping' | trans }}</strong></li>

                <li>
                    {{ data.cart.shipment.method.name }}
                    <span class="float-right">{{ data.cart.shipment.method.storeCurrencyPrice | money }}</span>
                </li>

                <li><hr/></li>
            {% endif %}

            <li>{{ 'cart.price.grand.total' | trans }} <strong class="float-right">{{ data.cart.totals.grandTotal | money }}</strong></li>

            <li>{{ 'cart.total.tax_total' | trans }} <span class="float-right">{{ data.cart.totals.taxTotal.amount | money }}</span></li>
        </ul>

        {% if data.cart.items | length %}
            <p class="__padding-top">
                <a class="button expanded success __no-margin-bottom" href="{{ url('checkout-index') }}" {{qa('data.cart-go-to-checkout')}}>
                    <i class="fa fa-check"></i>{{ 'cart.checkout'|trans }}
                </a>
            </p>
        {% endif %}
    </div>

{% endblock %}
