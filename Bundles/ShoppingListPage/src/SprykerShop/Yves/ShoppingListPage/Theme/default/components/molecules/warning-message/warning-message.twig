{% extends model('component') %}

{% define config = {
    name: 'warning-message'
} %}

{% define data = {
    title: required,
    shoppingList: required,
    sharedCompanyUsers: required,
    sharedCompanyBusinessUnits: required,
} %}

{% block body %}
    <h5 class="{{ config.name }}__error spacing-bottom">
        {% include atom('icon') with {
            modifiers: ['big'],
            data: {
                name: 'action-warning'
            }
        } only %}
        {{ 'customer.account.shopping_list.delete.warning' | trans }}
    </h5>
    <p class="spacing-y spacing-y--small">
        {{ 'customer.account.shopping_list.delete.you_are_trying_to_delete_shopping_list' | trans }}
        <a href="{{ url('shopping-list/details', {'idShoppingList': data.shoppingList.idShoppingList}) }}">{{ data.title }}</a>
    </p>
    {% if data.sharedCompanyUsers.count or data.sharedCompanyBusinessUnits.count %}
        <p class="spacing-y spacing-y--small">
            {{ 'customer.account.shopping_list.delete.it_belongs_to_follow' | trans }}
        </p>
        <br />
        {% if data.sharedCompanyBusinessUnits.count %}
            <b>{{ 'company.account.business_unit' | trans }}</b>:
            <ul>
                {% for sharedCompanyBusinessUnit in data.sharedCompanyBusinessUnits %}
                    <li>{{ sharedCompanyBusinessUnit.name }}</li>
                {% endfor %}
            </ul>
        {% endif %}
        <br/>
        {% if data.sharedCompanyUsers.count %}
            <b>{{ 'company.account.company_user' | trans }}</b>:
            <ul class="bullets">
                {% for sharedCompanyUser in data.sharedCompanyUsers %}
                    <li>{{ sharedCompanyUser.customer.firstName ~ ' ' ~  sharedCompanyUser.customer.lastName }}</li>
                {% endfor %}
            </ul>
        {% endif %}

        <br/>
        <p class="{{ config.name }}__error">
            <strong>
                {{ 'customer.account.shopping_list.delete.it_wll_be_deleted_from_all_of_them' | trans }}
            </strong>
        </p>
    {% endif %}
    <div class="{{ config.name }}__actions">
        <a href="javascript:history.go(-1)" class="button button--hollow">{{ 'general.back.button' | trans }}</a>
        <a href="{{ url('shopping-list/delete', {'idShoppingList': data.shoppingList.idShoppingList})}}" class="button button--alert spacing-left">{{ 'customer.account.shopping_list.overview.delete' | trans }}</a>
    </div>
{% endblock %}
